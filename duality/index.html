<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Duality</title>

  <style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #f4f4f9;
    margin: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  h2 {
    margin-bottom: 16px;
    color: #333;
  }

  #imageList {
    width: 320px;
    max-height: 500px;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 15px;
    padding: 10px;
    background-color: #fff;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    scrollbar-width: thin;
    scrollbar-color: #888 #eee;
  }

  /* Custom scrollbar for Webkit browsers */
  #imageList::-webkit-scrollbar {
    width: 8px;
  }

  #imageList::-webkit-scrollbar-track {
    background: #eee;
    border-radius: 8px;
  }

  #imageList::-webkit-scrollbar-thumb {
    background-color: #888;
    border-radius: 8px;
  }

  #imageList button {
    padding: 0;
    border: none;
    background: none;
    cursor: pointer;
    border-radius: 10px;
    overflow: hidden;
    transition: transform 0.2s, box-shadow 0.2s;
  }

  #imageList button:hover {
    transform: scale(1.03);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
  }

  #imageList img {
    width: 100%;
    height: 200px;
    object-fit: cover;
    border-radius: 10px;
    display: block;
    transition: opacity 0.2s;
  }

  #imageList img:hover {
    opacity: 0.95;
  }
</style>
  <link rel="icon" href="/img/favicon.ico">
</head>


<body>

<img src="https://github.com/10tothe6/10tothe6.github.io/blob/main/img/duality_logo.png?raw=true" alt="Example Image">

  <h2>Available Articles</h2>
  <div id="imageList">Loadingâ€¦</div>

  <!-- Module script -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js";
  import { getFirestore, collection, addDoc, getDocs, query, orderBy } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-firestore.js";
  
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyArv-BB3H5pIZFZBANfFYFG1bBNxO0veeA",
    authDomain: "duality-articles.firebaseapp.com",
    projectId: "duality-articles",
    storageBucket: "duality-articles.firebasestorage.app",
    messagingSenderId: "497426954182",
    appId: "1:497426954182:web:8081f58e64d32048c3a4c7",
    measurementId: "G-TJ5TXZEQH5"
  };

    // Init Firebase + Firestore
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    const imageListDiv = document.getElementById("imageList");

    async function loadImages() {
      try {
        const snapshot = await getDocs(collection(db, "thumbnails"));
        imageListDiv.innerHTML = "";

        snapshot.forEach(doc => {
          const data = doc.data();
          
          const button = document.createElement("button");

          const img = document.createElement("img");
          img.src = data.url;
        //   img.alt = doc.id;

          button.appendChild(img);

          button.addEventListener("click", () => {
            window.location.href = "https://10tothe6.github.io/duality/articles/" + data.title;
          });

          imageListDiv.appendChild(button);
        });
      } catch (err) {
        imageListDiv.innerHTML = "Error loading images.";
        console.error(err);
      }
    }

    loadImages();
  </script>
</body>
</html>