<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Duality</title>

  <style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #f4f4f9;
    margin: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  h2 {
    margin-bottom: 16px;
    color: #333;
  }

  #imageList {
    width: 90%;
    max-width: 1000px;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    grid-auto-rows: 200px;
    gap: 15px;
    padding: 10px;
  }

  #imageList button {
    padding: 0;
    border: none;
    background: none;
    cursor: pointer;
    border-radius: 12px;
    overflow: hidden;
    position: relative;
    transition: transform 0.2s, box-shadow 0.2s;
  }

  #imageList button:hover {
    transform: scale(1.05);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
    z-index: 2;
  }

  #imageList img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 12px;
    display: block;
    transition: opacity 0.2s;
  }

  #imageList img:hover {
    opacity: 0.95;
  }

  /* Optional: add a subtle overlay on hover for title display */
  #imageList button::after {
    content: attr(data-title);
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    padding: 6px 10px;
    background: rgba(0, 0, 0, 0.5);
    color: #fff;
    font-size: 14px;
    opacity: 0;
    transition: opacity 0.2s;
    border-bottom-left-radius: 12px;
    border-bottom-right-radius: 12px;
  }

  #imageList button:hover::after {
    opacity: 1;
  }
</style>
  <link rel="icon" href="/img/favicon.ico">
</head>


<body>

<img src="https://github.com/10tothe6/10tothe6.github.io/blob/main/img/duality_logo.png?raw=true" alt="Example Image">

  <h2>Available Articles</h2>
  <div id="imageList">Loadingâ€¦</div>

  <!-- Module script -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js";
  import { getFirestore, collection, addDoc, getDocs, query, orderBy } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-firestore.js";
  
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyArv-BB3H5pIZFZBANfFYFG1bBNxO0veeA",
    authDomain: "duality-articles.firebaseapp.com",
    projectId: "duality-articles",
    storageBucket: "duality-articles.firebasestorage.app",
    messagingSenderId: "497426954182",
    appId: "1:497426954182:web:8081f58e64d32048c3a4c7",
    measurementId: "G-TJ5TXZEQH5"
  };

    // Init Firebase + Firestore
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    const imageListDiv = document.getElementById("imageList");

    async function loadImages() {
      try {
        const snapshot = await getDocs(collection(db, "thumbnails"));
        imageListDiv.innerHTML = "";

        snapshot.forEach(doc => {
        const data = doc.data();

        const button = document.createElement("button");
        button.setAttribute("data-title", data.title); // For overlay on hover

        const img = document.createElement("img");
        img.src = data.url;

        button.appendChild(img);

        button.addEventListener("click", () => {
          window.location.href = "https://10tothe6.github.io/duality/articles/" + data.domain;
        });

        imageListDiv.appendChild(button);
      });
      } catch (err) {
        imageListDiv.innerHTML = "Error loading images.";
        console.error(err);
      }
    }

    loadImages();
  </script>
</body>
</html>